<html>
<head>
  <title>
    W5capi Demo
  </title>
    <script src="http://yourserverIP/socket.io/socket.io.js"></script>
    <script type="text/javascript" src="js/adapter.js"></script>
  <script src="Your capi file"></script>
  <script>
  
  var w5capi = new W5Peer({
      key:'YOU API KEY'});

w5capi.registerUserWithId('capi');

w5capi.onSuccess(function(data){
  console.log(data);
});

      
      
    
      
      window.testcall=function()
      {
           w5capi.call('w5rtc', {
            audio: true,
            video: true
        });
      }

       window.dataCall=function()
      {
           w5capi.call('w5rtc', {data:true});
      }
      
      function disconnect()
      {
          w5capi.hangup();
      }
      
    
    w5capi.onCall(function (data) {

        w5capi.accept(data);
    });

    w5capi.onLocalStream(function(stream){
        
    });

w5capi.onRemoteStream(function(stream){
        var remote = document.getElementById('remote');
        remote.src = URL.createObjectURL(stream);
    });


w5capi.onDatachannel(function (data) {
  console.log(data);
});

w5capi.onMessage(function (data) {
  console.log(data);
  });
window.sendMsg=function()
{
  w5capi.send({name:'w5rtc'});
}




  </script>
</head>

<body>
  <button onclick="vidoecall()"> video help</button>
<video width=800 id="remote" autoplay="autoplay"></video>
    <video width=800 id="source" autoplay="autoplay" hidden="true"></video>
    <button onclick="disconnect()">Cut</button>
    <button onclick="testcall()">Call</button>
    <button onclick="dataCall()">Data Call</button>
    <button  onclick="sendMsg()">Send MSG</button>
</body>
</html>
